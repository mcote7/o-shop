<div class="row">
  <div class="col-md-2">
    <!-- category selector -->
    <div
      class="list-group">
      <a 
        @popin 
        class="list-group-item"
        *ngIf="(categories$|async).length"
        [class.activeLink]="!category"
        routerLink="/">
        All items
      </a>
      <a 
        @popin 
        *ngFor="let cat of categories$|async"
        routerLink="/"
        [queryParams]="{category: cat.key}"
        [class.activeLink]="category === cat.key"
        class="list-group-item">
        
        {{ cat.name }}
        
        <div 
          @popin
          *ngIf="category === cat.key"
          title=" 🍃&nbsp;{{(products$|async).length}} fresh varieties to choose from in - {{cat.name}}"
          class="float-right cat-item-len">
          (&nbsp;<strong>{{(products$|async).length}}</strong>&nbsp;)
        </div>
      </a>
    </div>
  </div>
  <!-- products section -->
  <div class="col">
    <div
      [@listAnimationWrapCard]="(products$|async).length"
      class="row"
      style="margin-top: 3rem;">
      
      <ng-container
        *ngFor="let p of products$|async;
        let i = index;
        let e = even;
        let l = last">
        
        <div class="col-xl-3 col-lg-4 col-md-6">
          <!-- each product card -->
          <div 
            @listAnimationItemCard
            class="card"
            [class.last-col]="l">
            
            <!-- top menu buttons -->
            <div id="card-menu-button-{{i}}" (click)="showCardMenu(i)" class="card-options options">
              <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
            </div>
            
            <div id="card-reset-button-{{i}}" (click)="resetCard(i)" class="card-options reset">
              <i class="fa fa-arrow-left" aria-hidden="true"></i>
            </div>
            
            <!-- menu card -->
            <div id="card-menu-{{i}}" class="card-menu">
              <div class="menu-product">
                <img [src]="p.imageUrl" class="mr-1" alt="&nbsp; 🤷‍♂️ image not found">
                <strong>{{p.title}}</strong>
              </div>
              
              <div (click)="showCardNutrition(i, p.title)" class="svg-row">
                <div class="svg-title">Nutrition<br>Facts</div>
                <svg xmlns="http://www.w3.org/2000/svg" id="Capa_1" enable-background="new 0 0 512 512" viewBox="0 0 512 512"><path d="m272.009 42.784h78.375c11.075 0 20.052 8.978 20.052 20.052v428.908c0 11.075-8.978 20.052-20.052 20.052h-319.581c-11.075 0-20.052-8.978-20.052-20.052v-428.907c0-11.075 8.978-20.052 20.052-20.052h78.375" fill="#e8834d"/><path d="m350.384 42.784h-18.581c11.074 0 20.052 8.978 20.052 20.052v428.908c0 11.075-8.978 20.052-20.052 20.052h18.581c11.075 0 20.052-8.978 20.052-20.052v-428.907c0-11.075-8.978-20.053-20.052-20.053z" fill="#d66e41"/><path d="m333.735 85.077v384.427c0 2.851-2.311 5.161-5.161 5.161h-275.961c-2.851 0-5.161-2.311-5.161-5.161v-384.427c0-2.851 2.311-5.161 5.161-5.161h275.96c2.851 0 5.162 2.311 5.162 5.161z" fill="#f4e9d3"/><path d="m315.154 79.916v394.75h13.419c2.85 0 5.161-2.311 5.161-5.161v-384.428c0-2.851-2.311-5.161-5.161-5.161z" fill="#e5d6be"/><path d="m258.8 29.612h-33.365v-19.129c0-5.79-4.693-10.483-10.483-10.483h-48.718c-5.789 0-10.482 4.693-10.482 10.483v19.129h-33.365c-7.295 0-13.209 5.914-13.209 13.209v36.355c0 7.295 5.914 13.209 13.209 13.209h43.848 48.718 43.847c7.295 0 13.209-5.914 13.209-13.209v-36.356c0-7.295-5.914-13.208-13.209-13.208z" fill="#ffe55a"/><path d="m206.854 10.483v19.129h18.581v-19.129c0-5.79-4.693-10.483-10.483-10.483h-18.581c5.79 0 10.483 4.693 10.483 10.483z" fill="#ffd91d"/><path d="m258.8 29.612h-18.581c7.295 0 13.209 5.914 13.209 13.209v36.355c0 7.295-5.914 13.209-13.209 13.209h18.581c7.295 0 13.209-5.914 13.209-13.209v-36.356c0-7.295-5.914-13.208-13.209-13.208z" fill="#ffd91d"/><path d="m294.603 147.828h-130.369c-4.285 0-7.757 3.473-7.757 7.757s3.472 7.757 7.757 7.757h130.369c4.284 0 7.757-3.473 7.757-7.757s-3.473-7.757-7.757-7.757z" fill="#e8834d"/><path d="m164.234 191.177h73.274c4.285 0 7.757-3.473 7.757-7.757s-3.473-7.757-7.757-7.757h-73.274c-4.285 0-7.757 3.473-7.757 7.757s3.472 7.757 7.757 7.757z" fill="#e8834d"/><path class="check" d="m125.192 144.662-28.553 29.278-12.352-12.012c-3.07-2.988-7.982-2.917-10.969.153-2.987 3.071-2.918 7.983.154 10.969l17.905 17.412c3.027 2.945 8.014 2.876 10.961-.145l33.96-34.824c2.992-3.067 2.93-7.978-.137-10.969-3.07-2.992-7.979-2.928-10.969.138z" fill="#98db7c"/><g fill="#e8834d"><path d="m294.603 226.831h-130.369c-4.285 0-7.757 3.473-7.757 7.757s3.472 7.757 7.757 7.757h130.369c4.284 0 7.757-3.473 7.757-7.757s-3.473-7.757-7.757-7.757z"/><path d="m256.928 321.22h-92.516c-4.276 0-7.742-3.466-7.742-7.742s3.466-7.742 7.742-7.742h92.516c4.276 0 7.742 3.466 7.742 7.742s-3.465 7.742-7.742 7.742z"/><path d="m249.339 349h-84.926c-4.276 0-7.742-3.466-7.742-7.742s3.466-7.742 7.742-7.742h84.926c4.276 0 7.742 3.466 7.742 7.742s-3.466 7.742-7.742 7.742z"/><path d="m253.801 400.069h-89.389c-4.276 0-7.742-3.466-7.742-7.742s3.466-7.742 7.742-7.742h89.389c4.276 0 7.742 3.466 7.742 7.742s-3.465 7.742-7.742 7.742z"/><path d="m261.272 427.849h-96.86c-4.276 0-7.742-3.466-7.742-7.742s3.466-7.742 7.742-7.742h96.86c4.276 0 7.742 3.466 7.742 7.742s-3.466 7.742-7.742 7.742z"/><path d="m237.507 254.665h-73.274c-4.285 0-7.757 3.473-7.757 7.757s3.472 7.757 7.757 7.757h73.274c4.285 0 7.757-3.473 7.757-7.757.001-4.284-3.472-7.757-7.757-7.757z"/></g><path class="check" d="m125.192 223.664-28.553 29.278-12.352-12.011c-3.072-2.988-7.982-2.917-10.969.154s-2.918 7.982.154 10.969l17.905 17.412c3.027 2.945 8.014 2.876 10.961-.146l33.96-34.823c2.992-3.067 2.93-7.978-.137-10.969-3.068-2.994-7.979-2.931-10.969.136z" fill="#98db7c"/><path class="check" d="m125.192 302.667-28.553 29.278-12.352-12.011c-3.07-2.987-7.982-2.917-10.969.154s-2.918 7.982.154 10.969l17.905 17.411c3.027 2.945 8.014 2.876 10.961-.145l33.96-34.823c2.992-3.067 2.93-7.978-.137-10.97-3.068-2.992-7.979-2.93-10.969.137z" fill="#98db7c"/><path class="check" d="m125.192 381.669-28.553 29.278-12.352-12.012c-3.07-2.987-7.982-2.917-10.969.153-2.987 3.072-2.918 7.983.154 10.97l17.905 17.412c3.027 2.945 8.014 2.876 10.961-.145l33.96-34.823c2.992-3.067 2.93-7.978-.137-10.969-3.068-2.994-7.979-2.931-10.969.136z" fill="#98db7c"/><path d="m370.436 256.827c68.938 0 135.032 29.096 130.602 100.276-6.935 111.417-84.371 188.295-130.602 140.386-46.231 47.909-123.667-28.969-130.602-140.386-4.43-71.179 61.664-100.276 130.602-100.276z" fill="#ff4755"/><path d="m370.436 256.827c-3.105 0-6.203.061-9.29.18 65.457 2.528 125.542 32.122 121.312 100.095-5.098 81.915-48.305 145.156-89.201 153.867 45.267 10.313 101.898-59.337 107.782-153.867 4.429-71.178-61.665-100.275-130.603-100.275z" fill="#fc2b3a"/><path d="m432.433 265.318c-22.026 22.026-62.425 17.34-62.425 17.34s-4.686-40.398 17.34-62.425c17.499-17.499 46.594-18.138 57.815-17.662 2.678.114 4.817 2.253 4.931 4.931.478 11.222-.161 40.317-17.661 57.816z" fill="#98db7c"/><path d="m445.14 202.571c-1.706-.072-3.823-.118-6.247-.083-.095 13.414-2.613 37.237-17.755 52.379-14.833 14.833-37.996 17.552-51.545 17.745-.043 6.099.415 10.046.415 10.046s40.398 4.686 62.425-17.34c17.499-17.499 18.138-46.594 17.662-57.815-.114-2.686-2.269-4.819-4.955-4.932z" fill="#82d361"/><path d="m370.446 311.376c-.349 0-.702-.024-1.056-.072-4.231-.577-7.194-4.47-6.627-8.699.032-.255 1.739-14.108-2.79-31.267-5.974-22.628-19.516-40.211-40.252-52.26-3.697-2.148-4.952-6.887-2.803-10.584 2.147-3.698 6.884-4.953 10.584-2.805 30.684 17.83 42.83 43.751 47.615 62.357 5.16 20.063 3.083 35.965 2.992 36.633-.532 3.882-3.853 6.697-7.663 6.697z" fill="#62c136"/><path d="m370.435 311.375c-23.998 0-40.076-12.49-40.748-13.022-3.355-2.651-3.924-7.52-1.273-10.874 2.65-3.355 7.519-3.923 10.874-1.273.096.074 12.722 9.685 31.147 9.685 18.426 0 31.052-9.611 31.177-9.709 3.37-2.609 8.231-2.016 10.853 1.339 2.626 3.355 2.061 8.19-1.281 10.832-.672.533-16.75 13.022-40.749 13.022z" fill="#e52940"/></svg>
              </div>
              
              <div (click)="showCardRecipes(i, p.title)" class="svg-row">
                <svg xmlns="http://www.w3.org/2000/svg" id="Capa_1" enable-background="new 0 0 512 512" viewBox="0 0 512 512"><g><g><g><path d="m143.655 62.316h-47.952c.243 1.212.375 2.464.375 3.747 0 10.477-8.523 19-19 19s-19-8.523-19-19c0-1.283.131-2.535.375-3.747h-47.953c-1.657 0-3 1.343-3 3v133.155c0 1.657 1.343 3 3 3h133.155c1.657 0 3-1.343 3-3v-133.155c0-1.657-1.343-3-3-3z" fill="#ffd15b"/><g><path d="m41 198.471v-133.155c0-1.657 1.343-3 3-3h-33.5c-1.657 0-3 1.343-3 3v133.155c0 1.657 1.343 3 3 3h33.5c-1.657 0-3-1.343-3-3z" fill="#fdb441"/></g><g><circle cx="77.077" cy="66.062" fill="#6354b1" r="20"/></g><g><path d="m76.984 66.063c0-7.418 4.048-13.878 10.047-17.331-2.933-1.689-6.326-2.669-9.953-2.669-11.046 0-20 8.954-20 20s8.954 20 20 20c3.628 0 7.02-.981 9.953-2.669-5.999-3.453-10.047-9.914-10.047-17.331z" fill="#54469c"/></g><g><path d="m112.5 132.971h-70.845c-4.142 0-7.5-3.358-7.5-7.5s3.358-7.5 7.5-7.5h70.845c4.142 0 7.5 3.358 7.5 7.5s-3.358 7.5-7.5 7.5z" fill="#883f2e"/></g><g><path d="m112.5 166.154h-70.845c-4.142 0-7.5-3.358-7.5-7.5s3.358-7.5 7.5-7.5h70.845c4.142 0 7.5 3.358 7.5 7.5s-3.358 7.5-7.5 7.5z" fill="#883f2e"/></g></g><g><g><path d="m174.554 100.031h33v46.396h-33z" fill="#97d729"/><path d="m174.554 100.031h16.446v46.396h-16.446z" fill="#8bc727"/><g><path d="m210.179 101.031h-38.25c-1.864 0-3.375-1.511-3.375-3.375v-18c0-1.864 1.511-3.375 3.375-3.375h38.25c1.864 0 3.375 1.511 3.375 3.375v18c0 1.864-1.511 3.375-3.375 3.375z" fill="#81b823"/></g><path d="m188 97.656v-18c0-1.864 1.511-3.375 3.375-3.375h-19.446c-1.864 0-3.375 1.511-3.375 3.375v18c0 1.864 1.511 3.375 3.375 3.375h19.446c-1.864 0-3.375-1.511-3.375-3.375z" fill="#78a91f"/><g><path d="m238 272.812v-101.182c0-14.411-11.791-26.202-26.202-26.202h-41.487c-14.411 0-26.202 11.791-26.202 26.202v101.182z" fill="#81b823"/></g><g fill="#78a91f"><path d="m170.311 204.073h7.798v-32.443c0-14.411 11.791-26.202 26.202-26.202h-34c-14.411 0-26.202 11.791-26.202 26.202v101.182h25v-67.536c0-.607.596-1.203 1.202-1.203z"/><path d="m152.165 359.099.652.731.744-.637c4.729-4.05 10.073-7.151 15.883-9.217l.665-.237v-46.391h-26v48.277c2.904 2.231 5.605 4.728 8.056 7.474z"/></g><g><path d="m213 272.812v-67.536c0-.607-.595-1.202-1.202-1.202h-41.487c-.606 0-1.202.595-1.202 1.202v67.536z" fill="#ffd15b"/><g><path d="m186.163 347.087h7.014v-43.74h-24.067v46.763c5.436-1.98 11.203-3.023 17.053-3.023z" fill="#ffd15b"/></g></g><g><path d="m190 272.812v-67.536c0-.607.596-1.202 1.202-1.202h-20.891c-.606 0-1.202.595-1.202 1.202v67.536z" fill="#fdb441"/><g><path d="m186.163 347.087h3.837v-43.74h-20.891v46.763c5.437-1.98 11.204-3.023 17.054-3.023z" fill="#fdb441"/></g></g></g><g><g fill="#6354b1"><path d="m193.176 275.499-1-3.687h-51.756c-2.761 0-5 2.239-5 5v22.536c0 2.761 2.239 5 5 5h52.756z"/><path d="m499.5 271.811h-51.756l-1 3.722v28.814h52.756c2.761 0 5-2.239 5-5v-22.536c0-2.761-2.239-5-5-5z"/></g><g fill="#54469c"><path d="m192.176 287.536h-26.256c-2.761 0-5-2.239-5-5v-10.724h-20.5c-2.761 0-5 2.239-5 5v22.536c0 2.761 2.239 5 5 5h51.756z"/><path d="m447.744 287.536v16.811h51.756c2.761 0 5-2.239 5-5v-11.811z"/></g><path d="m192.176 271.811v75.276h34.104c27.713 0 50.26 22.547 50.26 50.26 0 15.664-7.563 30.688-20.231 40.191l-2.399 1.8h53.307c2.345 0 4.253 1.908 4.253 4.254v16.378h136.274v-188.159z" fill="#d8ecfe"/><g><path d="m200.828 321.894 5.393 12.257 5.393-12.257c1.668-3.792 6.093-5.514 9.885-3.844 3.792 1.668 5.513 6.094 3.844 9.885l-3.728 8.472 12.817-6.602v-57.995h-42.256v45.826c3.473-.856 7.162.872 8.652 4.258z" fill="#c4e2ff"/></g></g><g><path d="m163.785 339.352 15.865 8.172c2.134-.278 4.305-.436 6.513-.436h40.117c2.208 0 4.379.159 6.513.436l15.865-8.172c3.683-1.896 5.13-6.419 3.233-10.102-1.897-3.682-6.419-5.13-10.102-3.233l-20.174 10.391 3.728-8.472c1.668-3.792-.053-8.217-3.844-9.885-3.792-1.669-8.217.052-9.885 3.844l-5.393 12.257-5.393-12.257c-1.668-3.792-6.094-5.514-9.885-3.844-3.792 1.668-5.513 6.094-3.844 9.885l3.728 8.472-20.174-10.391c-3.681-1.898-8.205-.448-10.102 3.233-1.897 3.682-.449 8.205 3.234 10.102z" fill="#81b823"/><path d="m156.874 439.339h98.693c13.256-9.291 21.972-24.668 21.972-41.991 0-28.193-23.067-51.26-51.26-51.26h-40.117c-28.193 0-51.26 23.067-51.26 51.26 0 17.323 8.717 32.7 21.972 41.991z" fill="#fd4755"/><path d="m156.874 439.339h50.442c-13.249-9.291-21.955-24.673-21.955-41.991 0-26.448 20.3-48.384 46.089-50.998-1.701-.172-3.426-.262-5.171-.262h-40.117c-28.193 0-51.26 23.067-51.26 51.26 0 17.323 8.717 32.7 21.972 41.991z" fill="#fb2b3a"/><path d="m230.159 439.339c.746-2.382 1.148-4.915 1.148-7.542 0-13.927-11.29-25.218-25.218-25.218s-25.218 11.29-25.218 25.218c0 2.628.403 5.161 1.148 7.542z" fill="#81b823"/><path d="m207.163 439.339c-.747-2.383-1.163-4.913-1.163-7.542 0-9.351 5.094-17.507 12.654-21.862-3.7-2.131-7.988-3.356-12.564-3.356-13.927 0-25.218 11.29-25.218 25.218 0 2.628.403 5.161 1.148 7.542z" fill="#78a91f"/></g><g><path d="m65.555 439.339h85.734c10.344-10.703 16.711-25.273 16.711-41.333 0-21.047-10.935-39.53-27.43-50.1-10.001-6.409-18.128-15.354-24.067-25.641l-.072-.125c-.274-.475-.419-1.014-.419-1.563v-46.307c0-4.107-3.164-7.688-7.269-7.811-4.247-.128-7.731 3.278-7.731 7.497v22.978l-7.049-8.279c-2.737-3.212-7.596-3.546-10.747-.695-3.045 2.755-3.132 7.532-.47 10.659l17.299 20.316c.857 1.007.988 2.444.327 3.59-5.892 10.205-13.998 19.025-23.919 25.384-17.594 11.276-28.862 31.554-27.281 54.342 1.001 14.437 7.036 27.367 16.383 37.088z" fill="#fe7701"/><path d="m94.284 439.339h28.489c3.447-10.702 5.568-25.274 5.568-41.333 0-21.228-3.708-39.848-9.286-50.372-3.211-6.059-5.812-14.627-7.709-24.484l-.121-.628c-.575-2.988-4.852-2.988-5.427 0-1.952 10.144-4.62 18.985-7.914 25.271-5.898 11.253-9.681 31.59-9.153 54.455.332 14.324 2.394 27.309 5.553 37.091z" fill="#f46700"/><path d="m181.621 439.339c1.523-3.247 2.379-6.87 2.379-10.695 0-13.927-11.29-25.218-25.218-25.218s-25.218 11.29-25.218 25.218c0 3.824.856 7.447 2.379 10.695z" fill="#81b823"/><path d="m161.39 439.339c-1.526-3.248-2.39-6.868-2.39-10.695 0-9.288 5.024-17.397 12.5-21.773-3.734-2.186-8.078-3.445-12.718-3.445-13.927 0-25.218 11.29-25.218 25.218 0 3.824.856 7.447 2.379 10.695z" fill="#78a91f"/></g><path d="m312.47 459.971v-16.378c0-2.901-2.352-5.254-5.254-5.254h-272.397c-2.901 0-5.254 2.352-5.254 5.254v16.378z" fill="#fed2a4"/><path d="m80.096 459.971v-16.378c0-2.901 2.352-5.254 5.254-5.254h-50.53c-2.901 0-5.254 2.352-5.254 5.254v16.378z" fill="#ffbd86"/><g><path class="steam" d="m378.411 240.707c-4.142 0-7.5-3.358-7.5-7.5v-37.827c0-6.293-5.12-11.413-11.413-11.413h-40.979c-14.564 0-26.414-11.849-26.414-26.414v-2.102c0-14.564 11.849-26.413 26.414-26.413h85.11c6.293 0 11.414-5.12 11.414-11.413s-5.12-11.414-11.414-11.414h-69.349c-4.142 0-7.5-3.358-7.5-7.5s3.358-7.5 7.5-7.5h69.349c14.564 0 26.414 11.849 26.414 26.414s-11.849 26.413-26.414 26.413h-85.11c-6.293 0-11.414 5.12-11.414 11.413v2.102c0 6.293 5.12 11.414 11.414 11.414h40.979c14.564 0 26.413 11.849 26.413 26.413v37.827c0 4.142-3.358 7.5-7.5 7.5z" fill="#ffbd86"/></g><g><path class="steam" d="m306.961 106.212h-25.743c-14.854 0-26.938-12.084-26.938-26.938s12.084-26.939 26.938-26.939h94.041c4.142 0 7.5 3.358 7.5 7.5s-3.358 7.5-7.5 7.5h-94.041c-6.583 0-11.938 5.356-11.938 11.939s5.355 11.938 11.938 11.938h25.743c4.142 0 7.5 3.358 7.5 7.5s-3.358 7.5-7.5 7.5z" fill="#fed2a4"/></g></g></g><path class="steam" d="m440.319 51.688h-6.16v-6.159c0-4.142-3.358-7.5-7.5-7.5s-7.5 3.358-7.5 7.5v6.159h-6.159c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h6.16v6.16c0 4.142 3.358 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-6.16h6.16c4.142 0 7.5-3.358 7.5-7.5s-3.359-7.5-7.501-7.5z" fill="#fed2a4"/><path class="steam" d="m316.319 216.25h-6.16v-6.16c0-4.142-3.358-7.5-7.5-7.5s-7.5 3.358-7.5 7.5v6.16h-6.159c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h6.16v6.16c0 4.142 3.358 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-6.16h6.16c4.142 0 7.5-3.358 7.5-7.5s-3.359-7.5-7.501-7.5z" fill="#fed2a4"/><g><path d="m504.5 473.971h-497c-4.142 0-7.5-3.358-7.5-7.5s3.358-7.5 7.5-7.5h497c4.142 0 7.5 3.358 7.5 7.5s-3.358 7.5-7.5 7.5z" fill="#fe7701"/></g></g></svg>
                <div class="svg-title">Recipe<br>Suggestions</div>
              </div>
            </div>
            
            <!-- nutrition card -->
            <div id="card-nutrition-{{i}}" class="card-menu">
              
              <div class="menu-product">
                <img [src]="p.imageUrl" class="mr-1" alt="&nbsp; 🤷‍♂️ image not found">
                <div class="title-wrap">
                  <strong>{{p.title}}</strong>
                  <small style="border-bottom: 1px solid;">nutrition facts</small>
                </div>
              </div>
              
              <div class="nuts-desc" *ngIf="!isNutritionLoading">
                <div>Per 5oz. portion</div>
                <small>(based on 2000 calorie diet)</small>
              </div>
              
              <ng-container *ngIf="!isNutritionLoading">
                <div class="nuts-info">
                  <div class="cals general-info">
                    <small>Calories</small>&nbsp;<strong>{{currentNutrition.calories}}</strong>
                  </div>
                  <div class="total-nuts general-info">
                    <small>{{currentNutrition.totalNutrientsKCal?.CHOCDF_KCAL.label}}</small>&nbsp;<strong>{{currentNutrition.totalNutrientsKCal?.CHOCDF_KCAL.quantity}}</strong>
                    <br>
                    <small>{{currentNutrition.totalNutrientsKCal?.PROCNT_KCAL.label}}</small>&nbsp;<strong>{{currentNutrition.totalNutrientsKCal?.PROCNT_KCAL.quantity}}</strong>
                    <br>
                    <small>{{currentNutrition.totalNutrientsKCal?.FAT_KCAL.label}}</small>&nbsp;<strong>{{currentNutrition.totalNutrientsKCal?.FAT_KCAL.quantity}}</strong>
                    <br>
                    <small>{{currentNutrition.totalNutrientsKCal?.ENERC_KCAL.label}}</small>&nbsp;<strong>{{currentNutrition.totalNutrientsKCal?.ENERC_KCAL.quantity}}</strong>
                  </div>
                  
                  <ng-container *ngIf="currentNutrition.dietLabels?.length > 0; else noDietLabels">
                    <div class="diets general-info">
                      <small style="font-weight: bold;">Diet Labels</small><br>
                      <ng-container *ngFor="let label of currentNutrition.dietLabels; last as isLast">
                        <strong  class="gen-list-good">
                          {{trimUnderscore(label)}}<span *ngIf="!isLast">,</span><span *ngIf="isLast">.</span>
                        </strong>
                      </ng-container>
                    </div>
                  </ng-container>
                  <ng-template #noDietLabels></ng-template>
                  
                  <ng-container *ngIf="currentNutrition.cautions?.length > 0; else noCautions">
                    <div class="cautions general-info">
                      <small style="font-weight: bold;">Cautions</small><br>
                      <ng-container *ngFor="let caution of currentNutrition.cautions">
                        <strong class="gen-list-bad">
                          {{caution}}
                        </strong>
                      </ng-container>
                    </div>
                  </ng-container>
                  <ng-template #noCautions></ng-template>
                  <br>
                  <div class="daily-values">
                    <strong>Daily Values:</strong>
                    <br>
                    <ng-container *ngFor="let item of currentNutrition.totalDaily|keyvalue; even as isEven">
                      <div class="spec-rows" [class.even]="isEven">
                        <small>{{item.value.label}}</small>&nbsp;&nbsp;<strong>{{roundUpPercent(item.value.quantity)}}%</strong><br>
                      </div>
                    </ng-container>
                  </div>
                  <br>
                  <div class="total-values">
                    <strong>Total Nutrients:</strong>
                    <br>
                    <ng-container *ngFor="let item of currentNutrition.totalNutrients|keyvalue; even as isEven">
                      <div class="spec-rows" [class.even]="isEven">
                        <small>{{item.value.label}}</small>&nbsp;&nbsp;<strong>{{roundUpPercent(item.value.quantity)}}{{item.value.unit}}.</strong><br>
                      </div>
                    </ng-container>
                  </div>
                  <br>
                  <strong>Health Tags:</strong>
                  <div class="nut-tags">
                    <br>
                    <ng-container *ngFor="let tag of currentNutrition.healthLabels">
                      <span><small><i class="fa fa-check" aria-hidden="true"></i></small>&nbsp;{{trimUnderscore(tag)}}</span>
                    </ng-container>
                  </div>
                </div>
              </ng-container>
              <!-- loading nutrients animated -->
              <div class="loadingio-spinner-spinner-66dq5hz7hr" *ngIf="isNutritionLoading">
                <div class="ldio-rm0bvq5jb0n">
                <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
              </div>
            </div>
            <!-- end nutrition card -->
            
            <!-- recipe card -->
            <div id="card-recipes-{{i}}" class="card-menu">
              <div class="menu-product">
                <img [src]="p.imageUrl" class="mr-1" alt="&nbsp; 🤷‍♂️ image not found">
                <div class="title-wrap">
                  <strong>{{p.title}}</strong>
                  <small style="border-bottom: 1px solid;">recipe suggestions</small>
                </div>
              </div>
              <!-- recipe modal -->
              <ng-container *ngIf="!isRecipesLoading">
                <div class="recipe-wrap">
                  <ng-container *ngFor="let hit of currentRecipes.hits; even as isEven">
                    <div class="recipe" [class.even]="isEven">
                      <img [src]="hit.recipe.image" alt="recipe">
                      <strong>{{hit.recipe.label}}</strong>
                      <div>{{hit.recipe.ingredients.length}} ingredients</div>
                      <a 
                        href="{{hit.recipe.url}}" 
                        target="_blank" 
                        rel="noopener noreferrer" 
                        title="{{hit.recipe.url}}">
                          See Full 
                          <i class="fa fa-external-link" aria-hidden="true"></i>
                      </a>
                    </div>
                  </ng-container>
                  <div class="pagination">
                    <div (click)="getRecipes(p.title)" class="mx-auto more" title="see more"></div>
                  </div>
                </div>
              </ng-container>
              <!-- loading recipes animated -->
              <div class="loadingio-spinner-spinner-66dq5hz7hr" *ngIf="isRecipesLoading">
                <div class="ldio-rm0bvq5jb0n">
                <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
              </div>
            </div>
            <!-- end recipe card -->
            
            <!-- product card main -->
            <img [src]="p.imageUrl" class="card-img-top" alt="&nbsp; 🤷‍♂️ image not found">
            <div class="card-body">
              <h5 class="card-title">{{p.title}}</h5>
              <p class="card-text">{{p.category}}</p>
              <p class="card-text"><strong>{{ p.price | currency:'USD':'symbol' }}</strong></p>
              <div class="btm-btns-wrp">
                <button 
                  *ngIf="(getProductCartQuantity(p)|async) === 0; else updateQuantity"
                  @popin
                  (click)="addToCart(p)" 
                  class="btn btn-card">
                  Add to Cart
                </button>
                <ng-template #updateQuantity>
                  <button 
                    @popin 
                    (click)="removeFromCart(p)"
                    class="btn btn-paddle pad-left">
                    <i class="fa fa-minus" aria-hidden="true"></i>
                  </button>
                  <div @popin class="handle-left"></div>
                  <button 
                    @popin 
                    id="{{i}}"
                    class="btn btn-card-cart">
                    <strong>{{getProductCartQuantity(p)|async}}</strong>
                  </button>
                  <div @popin class="handle-right"></div>
                  <button 
                    @popin 
                    (click)="addToCart(p)"
                    class="btn btn-paddle pad-right">
                    <i class="fa fa-plus" aria-hidden="true"></i>
                  </button>
                </ng-template>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</div>
<!-- 🎇 -->
